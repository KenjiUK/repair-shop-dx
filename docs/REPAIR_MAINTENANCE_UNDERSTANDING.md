# 修理・整備 業務理解・分析書

## ドキュメント情報

- **作成日**: 2025-01-XX
- **バージョン**: 1.0
- **対象**: 修理・整備の業務理解・分析
- **ステータス**: 分析中

---

## 1. 業務の特徴

### 1-1. 基本的な特徴

- **所要日数**: 1日〜数日（修理内容による）
- **検査項目**: 修理箇所に応じて変動
- **作業内容**: 部品交換・調整が中心
- **顧客の関心**: 「修理内容」「費用」「期間」
- **業務フローパターン**: **パターンA（入庫してから見積もり）** の可能性が高い

### 1-2. 故障診断との違い

| 項目 | 故障診断 | 修理・整備 |
|------|---------|-----------|
| **目的** | 原因特定が中心 | 部品交換・調整が中心 |
| **検査項目** | 症状に応じて変動 | 修理箇所に応じて変動 |
| **所要時間** | 1-3時間（診断のみ） | 1-4時間（作業実施） |
| **見積タイミング** | 診断後 | 診断後または事前 |
| **複数日にまたがる** | あり（原因特定に時間がかかる場合） | あり（部品取り寄せなど） |

### 1-3. 他の入庫区分との違い

| 項目 | 車検・12ヶ月点検 | エンジンオイル交換など | 故障診断 | 修理・整備 |
|------|-----------------|---------------------|---------|-----------|
| **業務フロー** | パターンA | パターンB | パターンA | **パターンA（推測）** |
| **検査項目** | 法定項目（固定） | 簡易検査（固定） | 症状に応じて変動 | **修理箇所に応じて変動** |
| **所要時間** | 1日（固定） | 1時間以内（固定） | 1-3時間（診断のみ） | **1-4時間（作業）** |
| **複数日にまたがる** | なし | なし | あり | **あり（部品取り寄せなど）** |

---

## 2. 業務フロー（あるべき姿）

### 2-1. Phase 0: 予約・事前準備

- **顧客の行動**: 修理希望を予約
- **スタッフの行動**: 
  - 修理内容の確認（電話・メール等）
  - 部品の在庫確認
  - 前回整備履歴の確認
- **システム要件**: 
  - 修理内容の事前入力（field7: 詳細情報）
  - 前回整備履歴の表示
  - 部品在庫の確認

### 2-2. Phase 1: 受付

- **所要時間**: 約5分
- **確認事項**: 
  - 修理内容の確認
  - 走行距離
  - 前回整備履歴
- **記録内容**: 
  - 修理内容
  - 走行距離

### 2-3. Phase 2: 診断・検査（簡易）

- **所要時間**: 約30分-1時間
- **検査項目**: 
  - 修理箇所の確認
  - 関連箇所の点検
- **記録内容**: 
  - 修理箇所の状態
  - 写真（Before）

### 2-4. Phase 3: 見積作成

- **所要時間**: 約30分
- **作業内容**: 
  - 部品代・工賃の見積もり
  - 作業時間の見積もり
- **記録内容**: 
  - 部品代・工賃の内訳
  - 作業時間の見積もり

### 2-5. Phase 4: 顧客承認

- **所要時間**: 顧客の検討時間による
- **顧客の行動**: 
  - 見積内容の確認
  - 承認・却下
- **システム要件**: 
  - 見積内容の明確な表示

### 2-6. Phase 5: 作業実施

- **所要時間**: 承認後、約1-4時間（修理内容による）
- **作業内容**: 
  - 部品交換
  - 調整
  - 動作確認
- **記録内容**: 
  - 実施した作業の記録
  - Before/After写真
  - 交換部品の記録

### 2-7. Phase 6: 引渡・説明

- **所要時間**: 約15分
- **作業内容**: 
  - 修理内容の説明
  - 動作確認のデモ
- **記録内容**: 
  - 引渡日時

---

## 3. システム要件（あるべき姿）

### 3-1. 診断画面での要件

#### 簡易検査項目
- **修理箇所の確認**: 修理箇所の状態を確認
- **関連箇所の点検**: 関連箇所の簡易点検
- **写真撮影**: Before写真

### 3-2. 見積画面での要件

#### 部品代・工賃の見積もり
- **明確な内訳**: 部品代・工賃の内訳を明確に表示
- **作業時間の見積もり**: 作業時間の見積もりを表示

### 3-3. 作業画面での要件

#### 作業記録
- **実施した作業の記録**: 修理内容を詳細に記録
- **Before/After写真**: 修理前後の写真
- **交換部品の記録**: 交換した部品の種類・型番・数量

---

## 4. データモデル

### 4-1. 修理・整備ジョブデータ

```typescript
/**
 * 修理・整備ジョブ
 */
export interface RepairMaintenanceJob {
  /** Job ID */
  jobId: string;
  /** 入庫区分 */
  serviceKind: "修理・整備";
  
  /** 修理情報 */
  repair: {
    /** 修理内容（顧客の説明） */
    description: string;
    /** 走行距離 */
    mileage: number;
  };
  
  /** 診断情報 */
  diagnosis: {
    /** 検査項目の結果 */
    inspectionResults: InspectionResult[];
    /** 写真 */
    photos: Photo[];
    /** コメント（整備士の所見） */
    comments: string;
  };
  
  /** 見積情報 */
  estimate: {
    /** 部品代・工賃の見積もり */
    parts: Part[];
    labor: number;
    /** 作業時間の見積もり */
    estimatedDuration: number;
    total: number;
  };
  
  /** 作業情報 */
  work: {
    /** 実施した作業の記録 */
    repairRecords: RepairRecord[];
    /** Before/After写真 */
    photos: Photo[];
    /** 交換部品 */
    replacedParts: ReplacedPart[];
    /** 動作確認結果 */
    operationCheck: OperationCheckResult;
  };
}
```

---

## 5. 質問事項（最低限）

以下の点について確認が必要です：

1. **業務フローパターン**: パターンA（入庫→診断→見積→承認→作業）で正しいか？それとも、故障診断で原因特定後、修理・整備に移行するのか？

2. **故障診断との関係**: 修理・整備は故障診断の結果を受けて実施する場合と、独立した入庫区分として実施する場合があるのか？

3. **複数日にまたがる場合**: 部品取り寄せなどで複数日にまたがる場合の扱いは？

---

## 更新履歴

- 2025-01-XX: 初版作成


























