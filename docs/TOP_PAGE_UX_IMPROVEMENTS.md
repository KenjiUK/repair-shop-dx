# トップページ UX 改善提案

## 1. フィルタの改善提案

### 現状の問題点
- 現在のフィルタは横並びのボタン形式で、項目が多い場合に横スクロールが必要
- 選択状態が視覚的に分かりにくい
- モバイル表示での操作性が劣る

### 推奨改善案

#### 案A: ドロップダウンフィルタ（推奨）
- **メリット**: スペース効率が良い、項目数に制限がない、モバイル対応が容易
- **実装**: `Select`コンポーネントを使用
- **UI**: 「入庫区分: すべて ▼」のような形式

#### 案B: チップ型フィルタ（現状の改善版）
- **メリット**: 複数選択可能、視認性が高い
- **改善点**: 
  - 選択済みは背景色＋白テキスト
  - 未選択は白背景＋グレーテキスト＋ボーダー
  - モバイルでは横スクロール可能なチップバー

#### 案C: タブ型フィルタ
- **メリット**: 主要な区分（車検、12ヵ月点検、故障診断など）をタブ化
- **実装**: 主要5-6区分をタブ、残りは「その他」タブ内にドロップダウン

**推奨**: **案A（ドロップダウン）** - フロントオフィスでの使用頻度と操作性を考慮

---

## 2. 背景色の改善提案

### 現状
- ~~`bg-gradient-to-br from-slate-50 to-slate-100`~~ - 柔らかいグレーのグラデーション（変更前）

### 推奨改善案

#### ✅ 案A: よりニュートラルな背景（推奨・実装済み）
```css
bg-slate-50
```
- **理由**: グラデーションは視覚的なノイズになる可能性がある
- **メリット**: カードがより際立つ、目に優しい
- **実装状況**: ✅ 実装済み（`src/app/page.tsx`で`bg-slate-50`を使用）

#### 案B: 微細なグラデーション維持
```css
bg-gradient-to-br from-slate-50 via-white to-slate-50
```
- **理由**: 現状のグラデーションをより控えめに
- **メリット**: わずかな奥行き感を維持

#### 案C: 完全に白背景
```css
bg-white
```
- **理由**: 最もクリーンな印象
- **メリット**: カードとのコントラストが明確

**推奨**: **案A（slate-50単色）** - カードの可読性と視認性のバランスが最適

---

## 3. トップページ全体設計の改善提案

### 現状の課題
フロントオフィススタッフの主なニーズ:
1. **「今日何の車両が入るのかな？」** → 入庫予定の一覧が見たい
2. **「今あるあの車両はどんな状況なのかな？」** → ステータス別の整理が見たい
3. **「緊急で対応が必要な案件は？」** → 優先度の高い案件を素早く把握したい

### 推奨改善案

#### レイアウト構造の再設計

```
┌─────────────────────────────────────────┐
│ ヘッダー（ロゴ + 日時 + リフレッシュ）   │
├─────────────────────────────────────────┤
│ サマリーカード（3つ横並び）              │
│ - 本日の状況                            │
│ - スマートタグ在庫                      │
│ - 代車在庫                              │
├─────────────────────────────────────────┤
│ クイックフィルタ                        │
│ [すべて] [入庫待ち] [診断待ち] [作業待ち] │
├─────────────────────────────────────────┤
│ 検索バー                                │
├─────────────────────────────────────────┤
│ 案件リスト（カード形式）                 │
│ ┌─────────┐ ┌─────────┐              │
│ │ 案件1   │ │ 案件2   │              │
│ │ ステータス│ │ ステータス│            │
│ └─────────┘ └─────────┘              │
└─────────────────────────────────────────┘
```

#### 改善ポイント

1. **ステータス別クイックフィルタの追加**
   - サマリーカードの下に、主要ステータス（入庫待ち、診断待ち、見積作成待ち、作業待ち、引渡待ち）のクイックフィルタを配置
   - クリックで該当ステータスの案件のみ表示
   - 選択中のステータスは視覚的に強調

2. **案件カードの情報密度向上**
   - ステータスバッジをより目立つ位置に（カード右上または左上）
   - 入庫予定時間をより強調
   - 緊急度の高い案件（入庫待ち、診断待ちなど）は視覚的に強調

3. **グループ表示オプション**
   - ステータス別にグループ化して表示する切り替えボタン
   - デフォルトは時系列（入庫予定時間順）
   - 切り替えで「ステータス別表示」に変更可能

4. **緊急案件のハイライト**
   - 入庫待ちの案件は黄色のアクセント
   - 診断待ちが長時間の案件はオレンジのアクセント
   - 視覚的に優先度を伝える

5. **空きタグ・代車の即座の確認**
   - サマリーカードから直接タグ選択ダイアログを開けるショートカット
   - 代車の空き状況を一目で確認できる

#### 実装優先度

**Phase 1（即座に実装可能）**:
- ✅ ステータスバッジの表示改善（実装済み）
- ✅ サマリーカードの一貫性改善（実装済み）
- ✅ 入庫区分の色調整（実装済み）
- ✅ 背景色の改善（`bg-slate-50`に変更済み）

**Phase 2（次期改善）**:
- ❌ ステータス別クイックフィルタの追加（未実装）
  - 注: サマリーカードからのフィルタリング機能は実装済み（`TodaySummaryCard`のステータス項目をクリック）
- ❌ 案件カードの情報密度向上（一部実装済み）
  - ✅ ステータスバッジの視覚的強調（実装済み）
  - ✅ 入庫日時の表示改善（日付+時刻形式で実装済み）
  - ❌ 緊急度の高い案件の視覚的強調（未実装）
- ❌ 緊急案件のハイライト（未実装）

**Phase 3（将来的な改善）**:
- グループ表示オプション
- 高度な検索・フィルタ機能
- ダッシュボード的な統計表示

---

## 4. その他の細かい改善点

### 検索バーの改善
- ✅ プレースホルダーを「顧客名・車名・ナンバー・タグIDで検索」に設定（実装済み）
- ✅ 検索結果の件数表示を追加（実装済み: 「検索結果: {件数} 件」として表示）
- ✅ 検索履歴機能（実装済み）
- ✅ QRコードスキャン機能（実装済み）

### リフレッシュボタンの改善
- ❌ 自動リフレッシュのオプション（30秒、1分、5分間隔）（未実装）
- ❌ リフレッシュ時の視覚的フィードバック改善（未実装）
  - 注: SWRによる自動再検証機能は実装済み

### レスポンシブ対応
- ✅ モバイル表示でのカードサイズ最適化（実装済み）
- ✅ タブレット表示でのレイアウト調整（実装済み）

---

## まとめ

フロントオフィススタッフの主なニーズを考慮すると、**ステータス別のクイックフィルタ**と**案件カードの情報密度向上**が最も効果的です。これにより、「今日何の車両が入るのか」「今ある車両はどんな状況なのか」を素早く把握できるようになります。

現在の実装は基本的な機能は揃っており、多くの改善提案が既に実装されています。残りの改善項目を実装することで、より実用的で使いやすいポータル画面になるでしょう。

---

## 実装状況サマリー（2025-01-XX更新）

### ✅ 実装済み
- 背景色の改善（`bg-slate-50`）
- サマリーカードからのフィルタリング機能
- 検索バーの機能拡充（検索履歴、QRスキャン）
- レスポンシブ対応の最適化
- 案件カードの情報階層化と視覚的改善

### ❌ 未実装（将来の改善候補）
- 専用のステータス別クイックフィルタバー
- 緊急案件のハイライト機能
- 自動リフレッシュのオプション設定
- グループ表示オプション

詳細な実装状況については、[TOPページ実装状況](./TOP_PAGE_IMPLEMENTATION_STATUS.md)を参照してください。


























