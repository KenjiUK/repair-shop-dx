# ページ横幅設定のレビューと最適化

**作成日**: 2025-01-XX  
**目的**: 各ページの横幅設定を統一し、最新の仕様に基づいて最適化する

---

## 現状の横幅設定

### 現在使用されている横幅の種類

| 横幅クラス | 実サイズ | 使用ページ | 用途 |
|-----------|---------|-----------|------|
| `max-w-4xl` | 896px | TOP、履歴、代車管理、長期プロジェクト、顧客ダッシュボード、事前見積、数値マスタ | 標準的なリスト表示ページ |
| `max-w-5xl` | 1024px | 引渡しページ | 複数の情報を表示するページ |
| `max-w-7xl` | 1280px | 見積作成、業務分析、お知らせ管理 | 大きなテーブル/データ表示ページ |
| `max-w-2xl` | 672px | 診断、作業 | フォーカスが必要なシングルカラムページ |
| `max-w-lg` | 512px | 顧客承認、顧客レポート | モバイル向けコンパクトページ |

---

## 設計原則

### 1. 読みやすさと集中度（可読性の最適化）

**最適な行幅（Line Length）の研究:**
- 一般的な推奨: 45-75文字（日本語では60-80文字程度）
- 40歳以上ユーザー向け: より短い行幅が推奨される場合がある
- デスクトップでの最適幅: 800-1200px程度

### 2. コンテンツタイプ別の最適幅

| コンテンツタイプ | 推奨幅 | 理由 |
|----------------|--------|------|
| **テキスト中心（ブログ、記事）** | 672-768px (max-w-2xl 〜 max-w-3xl) | 読みやすさを最優先 |
| **リスト表示（カード一覧）** | 896px (max-w-4xl) | カードが適切に配置され、余白が確保される |
| **フォーム入力** | 672px (max-w-2xl) | 入力欄が適切な幅で、視線が集中しやすい |
| **データテーブル** | 1280px (max-w-7xl) | 複数列を表示する必要がある |
| **ダッシュボード/分析** | 1280px (max-w-7xl) | 複数のグラフやデータを並べて表示 |

### 3. レスポンシブ対応

- **モバイル（< 640px）**: 全幅を使用（`w-full px-4`）
- **タブレット（640-1024px）**: 適切な最大幅を設定
- **デスクトップ（> 1024px）**: 最大幅を設定し、中央揃え（`mx-auto`）

---

## 現状のページ別分析

### ✅ 適切な設定

1. **診断ページ・作業ページ (`max-w-2xl` = 672px)**
   - **理由**: フォーム入力や詳細情報表示が中心で、集中して作業する必要がある
   - **判定**: ✅ 適切

2. **見積作成ページ (`max-w-7xl` = 1280px)**
   - **理由**: 大きなテーブル（見積行）を表示する必要がある
   - **判定**: ✅ 適切

3. **業務分析ページ (`max-w-7xl` = 1280px)**
   - **理由**: 複数のグラフやデータを並べて表示する必要がある
   - **判定**: ✅ 適切

4. **お知らせ管理ページ (`max-w-7xl` = 1280px)**
   - **理由**: テーブル形式で複数の情報を表示する必要がある
   - **判定**: ✅ 適切

### ⚠️ 検討が必要な設定

1. **引渡しページ (`max-w-5xl` = 1024px)**
   - **現状**: `max-w-5xl`を使用
   - **検討**: 複数の情報を表示するが、テーブル形式ではない。`max-w-4xl`に統一するか検討
   - **判定**: ⚠️ 統一性の観点から検討が必要

2. **顧客承認ページ・顧客レポートページ (`max-w-lg` = 512px)**
   - **現状**: `max-w-lg`を使用
   - **検討**: モバイル向けに最適化されているが、デスクトップでは狭すぎる可能性がある
   - **判定**: ⚠️ デスクトップでの使用感を確認

### ❓ 要確認

1. **TOPページ (`max-w-4xl` = 896px)**
   - **現状**: DESIGN_SYSTEM.mdで推奨されている`max-w-4xl`を使用
   - **判定**: ✅ 設計システムに準拠

2. **その他の標準ページ (`max-w-4xl` = 896px)**
   - **現状**: 履歴、代車管理、長期プロジェクト、顧客ダッシュボードなど
   - **判定**: ✅ 標準的な設定として適切

---

## 推奨される統一ルール

### 標準的なページ横幅の階層

```typescript
// 1. 標準的なリスト表示ページ（デフォルト）
max-w-4xl  // 896px - カード一覧、標準的な情報表示

// 2. フォーカスが必要なページ（フォーム、詳細表示）
max-w-2xl  // 672px - 診断、作業、詳細情報表示

// 3. 大きなデータ表示ページ（テーブル、分析）
max-w-7xl  // 1280px - 見積作成、業務分析、テーブル表示

// 4. モバイル最適化ページ（顧客向け）
max-w-lg   // 512px - 顧客承認、顧客レポート（モバイル中心）
```

### 新しいページを追加する際の判断基準

1. **標準的なリスト表示ページ** → `max-w-4xl`
   - カード一覧
   - 情報の閲覧が中心
   - 複数の情報を比較する必要がある

2. **フォーカスが必要なページ** → `max-w-2xl`
   - フォーム入力
   - 詳細情報の表示
   - 集中して作業する必要がある

3. **大きなデータ表示ページ** → `max-w-7xl`
   - テーブル形式のデータ
   - 複数のグラフやデータを並べて表示
   - 横スクロールを避けたい

4. **モバイル最適化ページ** → `max-w-lg`
   - 顧客向けページ
   - モバイル中心の使用
   - コンパクトな情報表示

---

## 改善提案

### 提案1: 引渡しページの横幅を統一

**現状**: `max-w-5xl` (1024px)  
**提案**: `max-w-4xl` (896px) に統一

**理由**:
- テーブル形式ではなく、カードやリスト形式の情報表示
- 標準的なリスト表示ページとして`max-w-4xl`が適切
- 統一性の向上

### 提案2: 顧客承認ページ・顧客レポートページの横幅を検討

**現状**: `max-w-lg` (512px)  
**検討事項**:
- デスクトップでの使用感を確認
- 必要に応じて`max-w-2xl`に変更を検討

**理由**:
- `max-w-lg`は512pxと狭く、デスクトップでは情報が詰まって見える可能性がある
- ただし、モバイル中心のページとして意図的に狭くしている可能性もある

---

## 実装ガイドライン

### AppHeaderとの統一

`AppHeader`コンポーネントの`maxWidthClassName`プロパティと、`main`要素の`max-w-*`クラスは統一する必要がある。

```typescript
// ✅ 正しい例
<AppHeader maxWidthClassName="max-w-4xl" />
<main className="max-w-4xl mx-auto px-4 py-6">
  {/* コンテンツ */}
</main>

// ❌ 間違った例（統一されていない）
<AppHeader maxWidthClassName="max-w-4xl" />
<main className="max-w-7xl mx-auto px-4 py-6">
  {/* コンテンツ */}
</main>
```

### レスポンシブ対応

```typescript
// ✅ 推奨パターン
<main className="max-w-4xl mx-auto px-4 py-6 w-full">
  {/* モバイル: w-full（全幅） */}
  {/* デスクトップ: max-w-4xl（最大幅制限） */}
  {/* mx-auto: 中央揃え */}
  {/* px-4: 左右のパディング */}
</main>
```

---

## まとめ

### 現在の設定は概ね適切

- 診断・作業ページの`max-w-2xl`は適切
- 見積作成・業務分析ページの`max-w-7xl`は適切
- 標準的なリスト表示ページの`max-w-4xl`は適切

### 改善の余地

1. **引渡しページ**: `max-w-5xl` → `max-w-4xl`に統一を検討
2. **顧客承認・レポートページ**: デスクトップでの使用感を確認し、必要に応じて`max-w-2xl`に変更を検討

### 統一ルールの確立

新しいページを追加する際は、上記の判断基準に基づいて適切な横幅を選択する。


