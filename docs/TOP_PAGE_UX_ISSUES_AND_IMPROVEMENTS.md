# TOPページ UI/UX 改善提案

## 発見された問題点

### 1. サービス種別フィルターの論理的問題 ⚠️ **重要**

**問題:**
- 「すべて」と特定のサービス種別が同時に選択されているように見える
- フィルターの状態が視覚的に不明確
- 「すべて」を選択した場合、他のフィルターは無効化されるべきだが、視覚的フィードバックが不十分

**現在の実装:**
- `selectedKind`は単一値のみ保持（論理的には問題なし）
- しかし、UI上で「すべて」と他のボタンが同じスタイルで表示され、混乱を招く

**改善提案:**
1. **「すべて」を選択時**: 他のフィルターボタンを視覚的に無効化（グレーアウト、透明度を下げる）
2. **「すべて」のスタイル変更**: 「すべて」を選択時は、他のボタンとは異なるスタイル（例: より目立つ背景色、アイコン追加）
3. **フィルターリセット機能**: 「すべて」をクリックすると、他のフィルターが自動的にリセットされることを明確に表示

### 2. フィルターの視覚的階層と優先順位

**問題:**
- ステータスフィルターとサービス種別フィルターが独立して動作
- 複数のフィルターが同時に適用されている場合の視覚的フィードバックが不十分
- フィルターの状態を一目で理解しにくい

**改善提案:**
1. **アクティブフィルター表示**: 現在適用されているフィルターを明確に表示するバッジまたはインジケーターを追加
2. **フィルターリセットボタン**: すべてのフィルターを一度にリセットできる「クリア」ボタンを追加
3. **フィルター結果の強調**: フィルター適用時の件数表示をより目立つ位置に配置

### 3. 入庫予定時間の強調不足

**問題:**
- 入庫予定時間が強調されているが、時間部分（例: "07:30"）が十分に目立たない
- 「入庫日時」というラベルが時間と同じサイズで表示され、時間の重要性が薄れている

**改善提案:**
1. **時間のサイズ拡大**: 時間部分（"07:30"）を`text-xl`または`text-2xl`に拡大
2. **ラベルの縮小**: 「入庫日時」ラベルを`text-xs`に縮小し、時間をより強調
3. **レイアウト調整**: 時間を左側に大きく表示し、ラベルを右側に小さく表示

### 4. ステータスバッジの位置と視認性

**問題:**
- ステータスバッジが右上に配置されているが、アクションボタンと近すぎる
- ステータスがアクションの一部に見える可能性がある
- カードの主要情報として、より目立つ位置に配置すべき

**改善提案:**
1. **位置の変更**: ステータスバッジを顧客名の下、車両情報の上に配置
2. **サイズの拡大**: ステータスバッジを`text-sm`に拡大し、より目立つように
3. **アイコンの追加**: ステータスごとに適切なアイコンを追加（例: 入庫待ち=Clock、作業待ち=Wrench）

### 5. カード内の情報階層

**問題:**
- カード内の情報の重要度が視覚的に明確でない
- 顧客名、車両情報、ステータス、入庫時間の優先順位が不明確

**改善提案:**
1. **情報の階層化**: 
   - **第1階層**: 顧客名 + ステータス（大きく、目立つ）
   - **第2階層**: 車両情報 + 入庫区分（中サイズ）
   - **第3階層**: 入庫予定時間（強調表示エリア）
   - **第4階層**: タグ、代車、担当整備士（バッジ形式）
2. **視覚的分離**: 各階層間に適切なスペーシングとボーダーを追加

### 6. アクションボタンの配置と視認性

**問題:**
- アクションボタンがカードの右側に配置されているが、モバイル表示で見落としやすい
- ボタンの重要性がステータスによって異なるが、視覚的に区別されていない

**改善提案:**
1. **モバイル対応**: モバイル表示では、アクションボタンをカード下部に配置
2. **緊急度の視覚化**: 緊急度の高いアクション（例: 入庫待ち→受付開始）をより目立つ色で表示
3. **アイコンの強調**: アクションボタンのアイコンサイズを拡大

### 7. フィルターと検索の統合

**問題:**
- 検索バーとフィルターが独立して動作しているが、統合的な操作感が不足
- 検索結果とフィルター結果の関係が不明確

**改善提案:**
1. **統合検索バー**: 検索バーにフィルター状態を表示
2. **検索候補**: 検索時にフィルター条件に基づいた候補を表示
3. **検索結果の強調**: 検索結果がフィルター条件と一致する場合、視覚的に強調

## 実装優先順位

### Phase 1: 即座に修正すべき問題（高優先度）
1. ✅ サービス種別フィルターの論理的問題（「すべて」選択時の視覚的フィードバック）
2. ✅ 入庫予定時間の強調（時間部分のサイズ拡大）
3. ✅ ステータスバッジの位置変更（より目立つ位置へ）

### Phase 2: ユーザビリティ向上（中優先度）
4. フィルターの視覚的階層と優先順位
5. カード内の情報階層の明確化
6. アクションボタンの配置と視認性

### Phase 3: 高度な機能（低優先度）
7. フィルターと検索の統合
8. フィルター結果の詳細表示

## 推奨される実装例

### 1. サービス種別フィルターの改善

```tsx
// 「すべて」選択時、他のボタンを無効化
<div className="flex flex-wrap gap-2">
  <Button
    variant={selectedKind === "すべて" ? "default" : "outline"}
    size="sm"
    onClick={() => onSelect("すべて")}
    className={cn(
      selectedKind === "すべて"
        ? "bg-blue-600 hover:bg-blue-700 text-white font-semibold"
        : "bg-white hover:bg-slate-50 text-slate-700 border-slate-300"
    )}
  >
    すべて
  </Button>
  {SERVICE_KINDS.map((kind) => (
    <Button
      key={kind}
      variant={selectedKind === kind ? "default" : "outline"}
      size="sm"
      onClick={() => onSelect(kind)}
      disabled={selectedKind === "すべて"} // 「すべて」選択時は無効化
      className={cn(
        selectedKind === "すべて" && "opacity-50 cursor-not-allowed",
        selectedKind === kind
          ? "bg-slate-900 hover:bg-slate-800 text-white"
          : "bg-white hover:bg-slate-50 text-slate-700 border-slate-300"
      )}
    >
      {kind}
    </Button>
  ))}
</div>
```

### 2. 入庫予定時間の強調

```tsx
{/* 入庫予定時間（強調表示） */}
<div className={cn(
  "flex items-center gap-3 mt-2 px-3 py-2.5 rounded-md",
  job.field5 === "入庫待ち" 
    ? "bg-yellow-50 border-2 border-yellow-300" 
    : "bg-slate-50 border border-slate-200"
)}>
  <Clock className={cn(
    "h-5 w-5 shrink-0",
    job.field5 === "入庫待ち" ? "text-yellow-600" : "text-slate-600"
  )} />
  <span className={cn(
    "text-xl font-bold",
    job.field5 === "入庫待ち" ? "text-yellow-900" : "text-slate-900"
  )}>
    {arrivalTime}
  </span>
  <span className={cn(
    "text-xs ml-1",
    job.field5 === "入庫待ち" ? "text-yellow-700" : "text-slate-500"
  )}>
    {arrivalLabel}
  </span>
</div>
```

### 3. ステータスバッジの位置変更

```tsx
{/* 顧客名 */}
<CardTitle className="flex items-center gap-2 text-lg">
  <User className="h-5 w-5 text-slate-500 shrink-0" />
  <span className="truncate">{customerName}</span>
</CardTitle>

{/* ステータスバッジ（顧客名の下に配置） */}
<div className="mt-2">
  <Badge 
    variant="outline" 
    className={cn(
      "text-sm font-semibold px-3 py-1",
      job.field5 === "入庫待ち" && "bg-yellow-50 text-yellow-700 border-yellow-300",
      // ... 他のステータス
    )}
  >
    {job.field5}
  </Badge>
</div>
```

## まとめ

現在の実装は機能的には動作していますが、UI/UXの観点から以下の改善が必要です：

1. **フィルターの論理的一貫性**: 「すべて」選択時の視覚的フィードバック
2. **情報の視覚的階層**: 重要度に応じたサイズと配置
3. **視認性の向上**: 重要な情報（時間、ステータス）の強調
4. **操作の明確性**: フィルター状態とアクションの関係性

これらの改善により、フロントオフィススタッフがより効率的に業務を遂行できるようになります。


























