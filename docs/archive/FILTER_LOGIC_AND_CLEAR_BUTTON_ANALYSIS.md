# フィルターロジックとクリアボタン分析

## 現在のフィルターロジック

### フィルターの組み合わせ
現在の実装では、以下のフィルターが**AND条件**で組み合わせて適用されます：

1. **ステータスフィルター** (`selectedStatus`)
   - 「すべて」以外が選択されている場合、該当ステータスのみ表示

2. **入庫区分フィルター** (`selectedServiceKind`)
   - 選択されている場合、該当入庫区分のみ表示

3. **検索フィルター** (`searchQuery`)
   - 顧客名・車名・ナンバー・タグIDで検索

**例:**
- ステータス「診断待ち」+ 入庫区分「車検」を選択
  → 「診断待ち」かつ「車検」の案件のみ表示（AND条件）

### フィルターのリセット方法

現在の実装：
1. **サマリーカードのタイトルをクリック**: 各フィルターを個別にリセット可能
2. **クリアボタン**: すべてのフィルターを一度にリセット

## クリアボタンの必要性分析

### クリアボタンが必要な場合
- **複数フィルターが適用されている**: 3つ以上のフィルターが同時に適用されている場合
- **複雑なフィルターシステム**: 多くのフィルターオプションがある場合
- **探索を促進**: ユーザーが異なるフィルターの組み合わせを試したい場合

### クリアボタンが不要な場合
- **単一フィルターのみ**: 1つのフィルターしか適用されていない場合
- **個別リセットが容易**: 各フィルターを個別にリセットできる場合
- **視覚的な混乱**: クリアボタンがUIを複雑にする場合

## 現在の実装の問題点

### 1. **クリアボタンの位置**
- 検索バーの上に配置されているが、検索バーとフィルターの関係が不明確
- サマリーカードでフィルターを適用する場合、クリアボタンが離れた場所にある

### 2. **クリアボタンの必要性**
- サマリーカードのタイトルをクリックで個別にリセット可能
- 複数フィルターが適用されている場合でも、個別にリセットできる
- 全体クリアボタンは便利だが、必須ではない

### 3. **アクティブフィルターの表示**
- 現在、アクティブフィルターが視覚的に表示されていない
- どのフィルターが適用されているかが不明確

## 改善提案

### 提案A: クリアボタンを削除（推奨）

**理由:**
- サマリーカードのタイトルをクリックで個別にリセット可能
- 検索バーをクリアすれば検索フィルターがリセットされる
- UIがシンプルになる

### 提案B: アクティブフィルターの表示 + クリアボタン

**実装:**
- アクティブフィルターをバッジで表示
- 各バッジに×ボタンを追加して個別に削除可能
- 「すべてクリア」ボタンを追加

**メリット:**
- 適用中のフィルターが明確
- 個別に削除可能
- 全体クリアも可能

### 提案C: クリアボタンをサマリーセクションに移動

**実装:**
- サマリーセクションのタイトルバーにクリアボタンを配置
- フィルター適用場所の近くに配置

**メリット:**
- フィルター適用場所とクリアボタンが近い
- コンテキストに応じた配置

## 推奨実装

**提案A（クリアボタンを削除）を推奨**

理由:
1. サマリーカードのタイトルをクリックで個別にリセット可能
2. 検索バーをクリアすれば検索フィルターがリセットされる
3. UIがシンプルになる
4. 2025年のミニマルデザイントレンドに合致

ただし、アクティブフィルターの表示は検討の余地あり。





