# JOBカードの写真表示仕様

## 概要

JOBカードに表示される写真の種類、優先順位、クリック時の動作を明確に定義します。

## 写真の種類と優先順位

### JOBカードに表示される写真（サムネイル）

**表示される写真の種類**: 社内用写真のみ

**優先順位**:
1. **診断写真（diagnosis）**: 診断時の証拠写真を最優先
2. **作業前写真（before）**: 作業前の状態
3. **作業後写真（after）**: 作業後の状態
4. **その他の作業写真（general）**: その他の作業写真

**注意**: ブログ用写真（前面、後面、左側面、右側面など）はJOBカードのサムネイルには表示されません。

### 写真の総数

- **カウント対象**: 診断写真と作業写真の合計
- **ブログ用写真**: カウントに含めない

## 写真クリック時の動作

### 通常のJOBカード（`job-card.tsx`）

1. **写真がある場合**: 写真ギャラリーダイアログを開く
2. **写真がない場合**: 写真ギャラリーダイアログを開く（空の状態で表示）

### 長期プロジェクトカード（`long-term-project-card.tsx`）

1. **写真がある場合**: 写真ギャラリーダイアログを開く
2. **写真がない場合**: 診断画面に遷移（入庫済みの場合のみ）

## 写真ギャラリーダイアログ

### 表示内容

**タブ1: 社内用写真**
- 診断写真（診断時の証拠写真）
- 作業写真（before/after/general）

**タブ2: ブログ用写真**
- 受付時や診断時に撮影したブログ用写真（前面、後面、左側面、右側面など）
- 一時保存フォルダ（`blog-photos-temp`）から取得

### 機能

- **写真の拡大表示**: 選択した写真を大きく表示
- **ナビゲーション**: 前後の写真に移動可能
- **サムネイル一覧**: 下部にサムネイルを表示（複数枚の場合）
- **写真情報**: 写真の種類、位置、日付などの情報を表示

## 実装ファイル

- `src/components/features/job-photo-gallery-dialog.tsx`: 写真ギャラリーダイアログコンポーネント
- `src/components/features/job-card.tsx`: 通常のJOBカード
- `src/components/features/long-term-project-card.tsx`: 長期プロジェクトカード

## 今後の改善予定

1. **ブログ用写真の表示**: ブログ用写真がJOBカードのサムネイルに表示されるかどうかの設定を追加（オプション）
2. **写真の位置情報**: 前面、後面などの位置情報を表示
3. **写真のフィルタリング**: 種類や位置でフィルタリング可能にする









